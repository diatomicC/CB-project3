# CMYK Registration & Tilt Analyzer GUI

산업용 인쇄 품질 관리 및 보정을 위한 CMYK 컬러 박스 정렬 및 기울기 분석 GUI 애플리케이션입니다.

## 🎯 주요 기능

- **📸 이미지 입력**: 파일 업로드 또는 카메라 캡처
- **📏 프린트물 크기 설정**: 실제 프린트물 가로길이 입력 (기본값: 210mm)
- **🎯 컬러 레지스트레이션 분석**: CMYK 각 색상의 X/Y 이동량 계산
- **📐 기울기 분석**: 각 정사각형의 기울기 각도 및 보정값 계산
- **🖼️ 시각화**: 목표점, 실제점, 기울기 각도 등을 시각적으로 표시
- **💾 결과 저장**: JSON 파일 및 디버그 이미지 저장

## 🚀 설치 및 실행

### 1. 필요한 패키지 설치

```bash
pip install -r requirements.txt
```

### 2. 애플리케이션 실행

```bash
python cmyk_analyzer_gui.py
```

## 📋 사용법

### 1. 이미지 입력
- **파일 업로드**: "📁 이미지 업로드" 버튼을 클릭하여 이미지 파일 선택
- **카메라 캡처**: "카메라 시작" 버튼을 클릭하여 실시간 카메라 프리뷰 활성화 후 "캡처" 버튼으로 이미지 촬영

### 2. 분석 설정
- **프린트물 가로길이**: 실제 프린트물의 가로길이를 mm 단위로 입력 (기본값: 210mm)

### 3. 분석 실행
- "🔍 분석 시작" 버튼을 클릭하여 분석 시작
- 분석 진행 상황이 실시간으로 표시됩니다

### 4. 결과 확인
분석 완료 후 다음 탭에서 결과를 확인할 수 있습니다:

- **📊 분석 개요**: 전체 분석 결과 요약
- **🎯 컬러 레지스트레이션**: 각 CMYK 색상의 정확한 위치 및 이동량
- **📐 기울기 분석**: 각 정사각형의 기울기 각도 및 보정값
- **🖼️ 시각화**: 분석 결과를 시각적으로 표시

### 5. 결과 저장
- **💾 JSON 저장**: 분석 결과를 JSON 파일로 저장
- **🖼️ 이미지 저장**: 디버그 이미지를 PNG 파일로 저장

## 📊 분석 결과 해석

### 컬러 레지스트레이션
- **P 좌표**: 실제 검출된 컬러 박스의 왼쪽 아래 꼭지점
- **T 좌표**: 목표 위치 (이상적인 위치)
- **이동량**: P에서 T로 이동하기 위해 필요한 X/Y 거리 (mm)

### 기울기 분석
- **기울기 각도**: 정사각형 밑변의 기울기 (도 단위)
- **보정값**: 수평을 맞추기 위해 필요한 보정량 (μm 단위)
- **보정 방향**: 오른쪽 아래 꼭지점을 위/아래로 이동

## 🎨 색상 범위

애플리케이션에서 사용하는 HSV 색상 범위:

- **C (Cyan)**: 청록색 - H: 90-130, S: 80-255, V: 80-255
- **M (Magenta)**: 자홍색 - H: 130-170, S: 50-255, V: 70-255
- **Y (Yellow)**: 노란색 - H: 20-40, S: 80-255, V: 80-255
- **K (Black)**: 검은색 - H: 0-180, S: 0-255, V: 0-50

## 📁 파일 구조

```
project3/
├── cmyk_analyzer_gui.py          # 메인 GUI 애플리케이션
├── color_registration_analysis.py # 기존 분석 모듈
├── requirements.txt              # 필요한 패키지 목록
├── README.md                     # 사용 설명서
├── images/                       # 테스트 이미지들
├── output/                       # 추출된 마커 이미지들
└── registration_analysis/        # 분석 결과 저장 폴더
```

## 🔧 기술 스택

- **UI Framework**: PySide6
- **Image Processing**: OpenCV (cv2)
- **Data Handling**: NumPy, JSON
- **Export**: pandas, openpyxl (선택사항)

## 🎯 대상 사용자

- 인쇄기 조작자
- 제조업 QA 엔지니어
- 인쇄 정밀도 연구개발 엔지니어
- 컴퓨터 비전 검사 파이프라인 테스트 엔지니어

## 🔮 향후 확장 계획

- 실시간 카메라 스트림 분석
- 하드웨어 통합 (카메라 트리거, 모터 피드백)
- 관리자 모드 (파라미터 튜닝)
- 배치 이미지 분석
- 사용자 로그인/세션 히스토리 추적

## 📞 지원

문제가 발생하거나 개선 사항이 있으시면 이슈를 등록해 주세요.

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 